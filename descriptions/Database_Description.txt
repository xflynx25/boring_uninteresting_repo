With team data: #67909 x 627  ~10 hours to create
without team data: #84521 x 123  ~2 hours


For the following 38 we have _L1, _L3, _L6, _SALOC, _SAT ===190
NO LONGER HAVE ALL OF THESE THANKS TO DISCONTINUING KEEPING TRACK PAST 2019
assists
attempted_passes
big_chances_created
big_chances_missed
big_errors
bonus
bps
clean_sheets
clearences_blocks_interceptions
completed_passes
creativity
dribbles
fouls
goals_conceded
goals_scored
ict_index
influence
key_passes
minutes
offside_L1
open_play_crosses
own_goals
penalties_conceded
penalties_missed
penalties_saved
recoveries
red_cards
saves
tackled
tackles
target_missed
threat
total_points 
transfers_balance
transfers_in
transfers_out
winning_goals
yellow_cards

FOR THESE NEXT 14 WE ALSO HAVE FIX1_, FIX2_,...FIX6_ === 490
FTgf
FTga
pts 
oddsW
oddsD
oddsL
Sf
Sa 
STf
STa 
Cf 
Ca 
Ff 
Fa 


WE ALSO HAVE FIX1_...ETC FOR THIS ===6
num_opponents


METADATA:::

element
gw
hour
name
position
season
selected (this is tsb%)
team
transfers_balance
transfers_in
transfers_out
value
opponent
day
days_rest
was_home
oddsW
oddsD
oddsL



PREDICTION STUFF _N1, _N2, ... , _N6 === 6
total_points_N1
total_points_N2
total_points_N3
total_points_N4
total_points_N5
total_points_N6



total number of columns = 6 + 15 + 6 + 490 + 190 === 707


--We expect nan values at the beginning (when player joined) or end of season when
form lengths or forward prediction lengths run outside of the season
also you will get nan for saloc if many games at beginning of season h/a 

--We expect rows with 0 for day, opponent, hour, transfers, selected type stuff when blank
    but at the same time, everything else should be good. 

--Otherwise, every row should have a value for every column


maybe sub round# with gw is ok
RAW_TEAM = ['season', 'round#', 'day', 'team', 'opponent', 'was_home', 'FTgf', 'FTga',
 'pts', 'oddsW', 'oddsD', 'oddsL', 'Sf', 'Sa', 'STf', 'STa', 'Cf', 'Ca', 'Ff', 'Fa']

RAW_PLAYER = 
    playerMATCHstats = ['assists', 'goals_scored', 'goals_conceded', 'attempted_passes', 'big_chances_created', 'big_chances_missed',\
    'bonus', 'bps',	'clean_sheets', 'dribbles',	 'clearances_blocks_interceptions', 'completed_passes', 'influence',\
    'creativity', 'threat', 'ict_index', 'fouls', 'key_passes', 'open_play_crosses', 'offside', 'recoveries',\
    'yellow_cards', 'red_cards','tackled', 'tackles', 'target_missed', 'own_goals', 'penalties_conceded','penalties_missed',\
    'penalties_saved', 'saves','winning_goals', 'minutes',	'total_points'] 
    
    playerTRANSFERstats = ['selected','transfers_in','transfers_out','transfers_balance'] #current week
    
    big_error_keys = ['errors_leading_to_goal', 'errors_leading_to_goal_attempt']

    CORE_META = ['season','gw', 'name','element','team', 'position','value','hour']  



8/31/2020    
TWO DATABASES: 
one contains 2016-2018, with team and player data 
other contains 2016-2019, with player data only  

2019 not only we lost DATAHUB data but also FPL stopped recording a lot of the player stats
    so we cannot use them for this AI 


12/23/2020:
1) change transfer stuff to % of top in the week 
2) points avg/max conceded by team, --> will get saloc & all --> top % of type including pos --> select position for each player 


NEW DATABASE 12/25/2020

all together =  (67909, 745)
season
gw
name
element
team
position
value
hour
selected
assists_L1
goals_scored_L1
goals_conceded_L1
bonus_L1
bps_L1
clean_sheets_L1
influence_L1
creativity_L1
threat_L1
ict_index_L1
yellow_cards_L1
red_cards_L1
own_goals_L1
penalties_missed_L1
penalties_saved_L1
saves_L1
minutes_L1
total_points_L1
assists_L2
goals_scored_L2
goals_conceded_L2
bonus_L2
bps_L2
clean_sheets_L2
influence_L2
creativity_L2
threat_L2
ict_index_L2
yellow_cards_L2
red_cards_L2
own_goals_L2
penalties_missed_L2
penalties_saved_L2
saves_L2
minutes_L2
total_points_L2
assists_L3
goals_scored_L3
goals_conceded_L3
bonus_L3
bps_L3
clean_sheets_L3
influence_L3
creativity_L3
threat_L3
ict_index_L3
yellow_cards_L3
red_cards_L3
own_goals_L3
penalties_missed_L3
penalties_saved_L3
saves_L3
minutes_L3
total_points_L3
assists_L6
goals_scored_L6
goals_conceded_L6
bonus_L6
bps_L6
clean_sheets_L6
influence_L6
creativity_L6
threat_L6
ict_index_L6
yellow_cards_L6
red_cards_L6
own_goals_L6
penalties_missed_L6
penalties_saved_L6
saves_L6
minutes_L6
total_points_L6
assists_SAT
goals_scored_SAT
goals_conceded_SAT
bonus_SAT
bps_SAT
clean_sheets_SAT
influence_SAT
creativity_SAT
threat_SAT
ict_index_SAT
yellow_cards_SAT
red_cards_SAT
own_goals_SAT
penalties_missed_SAT
penalties_saved_SAT
saves_SAT
minutes_SAT
total_points_SAT
assists_SALOC
goals_scored_SALOC
goals_conceded_SALOC
bonus_SALOC
bps_SALOC
clean_sheets_SALOC
influence_SALOC
creativity_SALOC
threat_SALOC
ict_index_SALOC
yellow_cards_SALOC
red_cards_SALOC
own_goals_SALOC
penalties_missed_SALOC
penalties_saved_SALOC
saves_SALOC
minutes_SALOC
total_points_SALOC
ppmin
total_points_N1
total_points_N2
total_points_N3
total_points_N4
total_points_N5
total_points_N6
transfers_in
transfers_out
transfers_balance
transfers_in_L1
transfers_out_L1
transfers_balance_L1
transfers_in_L2
transfers_out_L2
transfers_balance_L2
transfers_in_L3
transfers_out_L3
transfers_balance_L3
transfers_in_L6
transfers_out_L6
transfers_balance_L6
transfers_in_SAT
transfers_out_SAT
transfers_balance_SAT
transfers_in_SALOC
transfers_out_SALOC
transfers_balance_SALOC
is_pos_1
is_pos_2
is_pos_3
is_pos_4
pts_goal
pts_cs
opponent
day
days_rest
was_home
oddsW
oddsD
oddsL
FTgf_L1
FTga_L1
pts_L1
oddsW_L1
oddsD_L1
oddsL_L1
Sf_L1
Sa_L1
STf_L1
STa_L1
Cf_L1
Ca_L1
Ff_L1
Fa_L1
FTgf_L2
FTga_L2
pts_L2
oddsW_L2
oddsD_L2
oddsL_L2
Sf_L2
Sa_L2
STf_L2
STa_L2
Cf_L2
Ca_L2
Ff_L2
Fa_L2
FTgf_L3
FTga_L3
pts_L3
oddsW_L3
oddsD_L3
oddsL_L3
Sf_L3
Sa_L3
STf_L3
STa_L3
Cf_L3
Ca_L3
Ff_L3
Fa_L3
FTgf_L6
FTga_L6
pts_L6
oddsW_L6
oddsD_L6
oddsL_L6
Sf_L6
Sa_L6
STf_L6
STa_L6
Cf_L6
Ca_L6
Ff_L6
Fa_L6
FTgf_SAT
FTga_SAT
pts_SAT
oddsW_SAT
oddsD_SAT
oddsL_SAT
Sf_SAT
Sa_SAT
STf_SAT
STa_SAT
Cf_SAT
Ca_SAT
Ff_SAT
Fa_SAT
FTgf_SALOC
FTga_SALOC
pts_SALOC
oddsW_SALOC
oddsD_SALOC
oddsL_SALOC
Sf_SALOC
Sa_SALOC
STf_SALOC
STa_SALOC
Cf_SALOC
Ca_SALOC
Ff_SALOC
Fa_SALOC
FIX1_FTgf_L1
FIX1_FTga_L1
FIX1_pts_L1
FIX1_oddsW_L1
FIX1_oddsD_L1
FIX1_oddsL_L1
FIX1_Sf_L1
FIX1_Sa_L1
FIX1_STf_L1
FIX1_STa_L1
FIX1_Cf_L1
FIX1_Ca_L1
FIX1_Ff_L1
FIX1_Fa_L1
FIX1_FTgf_L2
FIX1_FTga_L2
FIX1_pts_L2
FIX1_oddsW_L2
FIX1_oddsD_L2
FIX1_oddsL_L2
FIX1_Sf_L2
FIX1_Sa_L2
FIX1_STf_L2
FIX1_STa_L2
FIX1_Cf_L2
FIX1_Ca_L2
FIX1_Ff_L2
FIX1_Fa_L2
FIX1_FTgf_L3
FIX1_FTga_L3
FIX1_pts_L3
FIX1_oddsW_L3
FIX1_oddsD_L3
FIX1_oddsL_L3
FIX1_Sf_L3
FIX1_Sa_L3
FIX1_STf_L3
FIX1_STa_L3
FIX1_Cf_L3
FIX1_Ca_L3
FIX1_Ff_L3
FIX1_Fa_L3
FIX1_FTgf_L6
FIX1_FTga_L6
FIX1_pts_L6
FIX1_oddsW_L6
FIX1_oddsD_L6
FIX1_oddsL_L6
FIX1_Sf_L6
FIX1_Sa_L6
FIX1_STf_L6
FIX1_STa_L6
FIX1_Cf_L6
FIX1_Ca_L6
FIX1_Ff_L6
FIX1_Fa_L6
FIX1_FTgf_SAT
FIX1_FTga_SAT
FIX1_pts_SAT
FIX1_oddsW_SAT
FIX1_oddsD_SAT
FIX1_oddsL_SAT
FIX1_Sf_SAT
FIX1_Sa_SAT
FIX1_STf_SAT
FIX1_STa_SAT
FIX1_Cf_SAT
FIX1_Ca_SAT
FIX1_Ff_SAT
FIX1_Fa_SAT
FIX1_FTgf_SALOC
FIX1_FTga_SALOC
FIX1_pts_SALOC
FIX1_oddsW_SALOC
FIX1_oddsD_SALOC
FIX1_oddsL_SALOC
FIX1_Sf_SALOC
FIX1_Sa_SALOC
FIX1_STf_SALOC
FIX1_STa_SALOC
FIX1_Cf_SALOC
FIX1_Ca_SALOC
FIX1_Ff_SALOC
FIX1_Fa_SALOC
FIX1_num_opponents
FIX2_FTgf_L1
FIX2_FTga_L1
FIX2_pts_L1
FIX2_oddsW_L1
FIX2_oddsD_L1
FIX2_oddsL_L1
FIX2_Sf_L1
FIX2_Sa_L1
FIX2_STf_L1
FIX2_STa_L1
FIX2_Cf_L1
FIX2_Ca_L1
FIX2_Ff_L1
FIX2_Fa_L1
FIX2_FTgf_L2
FIX2_FTga_L2
FIX2_pts_L2
FIX2_oddsW_L2
FIX2_oddsD_L2
FIX2_oddsL_L2
FIX2_Sf_L2
FIX2_Sa_L2
FIX2_STf_L2
FIX2_STa_L2
FIX2_Cf_L2
FIX2_Ca_L2
FIX2_Ff_L2
FIX2_Fa_L2
FIX2_FTgf_L3
FIX2_FTga_L3
FIX2_pts_L3
FIX2_oddsW_L3
FIX2_oddsD_L3
FIX2_oddsL_L3
FIX2_Sf_L3
FIX2_Sa_L3
FIX2_STf_L3
FIX2_STa_L3
FIX2_Cf_L3
FIX2_Ca_L3
FIX2_Ff_L3
FIX2_Fa_L3
FIX2_FTgf_L6
FIX2_FTga_L6
FIX2_pts_L6
FIX2_oddsW_L6
FIX2_oddsD_L6
FIX2_oddsL_L6
FIX2_Sf_L6
FIX2_Sa_L6
FIX2_STf_L6
FIX2_STa_L6
FIX2_Cf_L6
FIX2_Ca_L6
FIX2_Ff_L6
FIX2_Fa_L6
FIX2_FTgf_SAT
FIX2_FTga_SAT
FIX2_pts_SAT
FIX2_oddsW_SAT
FIX2_oddsD_SAT
FIX2_oddsL_SAT
FIX2_Sf_SAT
FIX2_Sa_SAT
FIX2_STf_SAT
FIX2_STa_SAT
FIX2_Cf_SAT
FIX2_Ca_SAT
FIX2_Ff_SAT
FIX2_Fa_SAT
FIX2_num_opponents
FIX3_FTgf_L1
FIX3_FTga_L1
FIX3_pts_L1
FIX3_oddsW_L1
FIX3_oddsD_L1
FIX3_oddsL_L1
FIX3_Sf_L1
FIX3_Sa_L1
FIX3_STf_L1
FIX3_STa_L1
FIX3_Cf_L1
FIX3_Ca_L1
FIX3_Ff_L1
FIX3_Fa_L1
FIX3_FTgf_L2
FIX3_FTga_L2
FIX3_pts_L2
FIX3_oddsW_L2
FIX3_oddsD_L2
FIX3_oddsL_L2
FIX3_Sf_L2
FIX3_Sa_L2
FIX3_STf_L2
FIX3_STa_L2
FIX3_Cf_L2
FIX3_Ca_L2
FIX3_Ff_L2
FIX3_Fa_L2
FIX3_FTgf_L3
FIX3_FTga_L3
FIX3_pts_L3
FIX3_oddsW_L3
FIX3_oddsD_L3
FIX3_oddsL_L3
FIX3_Sf_L3
FIX3_Sa_L3
FIX3_STf_L3
FIX3_STa_L3
FIX3_Cf_L3
FIX3_Ca_L3
FIX3_Ff_L3
FIX3_Fa_L3
FIX3_FTgf_L6
FIX3_FTga_L6
FIX3_pts_L6
FIX3_oddsW_L6
FIX3_oddsD_L6
FIX3_oddsL_L6
FIX3_Sf_L6
FIX3_Sa_L6
FIX3_STf_L6
FIX3_STa_L6
FIX3_Cf_L6
FIX3_Ca_L6
FIX3_Ff_L6
FIX3_Fa_L6
FIX3_FTgf_SAT
FIX3_FTga_SAT
FIX3_pts_SAT
FIX3_oddsW_SAT
FIX3_oddsD_SAT
FIX3_oddsL_SAT
FIX3_Sf_SAT
FIX3_Sa_SAT
FIX3_STf_SAT
FIX3_STa_SAT
FIX3_Cf_SAT
FIX3_Ca_SAT
FIX3_Ff_SAT
FIX3_Fa_SAT
FIX3_num_opponents
FIX4_FTgf_L1
FIX4_FTga_L1
FIX4_pts_L1
FIX4_oddsW_L1
FIX4_oddsD_L1
FIX4_oddsL_L1
FIX4_Sf_L1
FIX4_Sa_L1
FIX4_STf_L1
FIX4_STa_L1
FIX4_Cf_L1
FIX4_Ca_L1
FIX4_Ff_L1
FIX4_Fa_L1
FIX4_FTgf_L2
FIX4_FTga_L2
FIX4_pts_L2
FIX4_oddsW_L2
FIX4_oddsD_L2
FIX4_oddsL_L2
FIX4_Sf_L2
FIX4_Sa_L2
FIX4_STf_L2
FIX4_STa_L2
FIX4_Cf_L2
FIX4_Ca_L2
FIX4_Ff_L2
FIX4_Fa_L2
FIX4_FTgf_L3
FIX4_FTga_L3
FIX4_pts_L3
FIX4_oddsW_L3
FIX4_oddsD_L3
FIX4_oddsL_L3
FIX4_Sf_L3
FIX4_Sa_L3
FIX4_STf_L3
FIX4_STa_L3
FIX4_Cf_L3
FIX4_Ca_L3
FIX4_Ff_L3
FIX4_Fa_L3
FIX4_FTgf_L6
FIX4_FTga_L6
FIX4_pts_L6
FIX4_oddsW_L6
FIX4_oddsD_L6
FIX4_oddsL_L6
FIX4_Sf_L6
FIX4_Sa_L6
FIX4_STf_L6
FIX4_STa_L6
FIX4_Cf_L6
FIX4_Ca_L6
FIX4_Ff_L6
FIX4_Fa_L6
FIX4_FTgf_SAT
FIX4_FTga_SAT
FIX4_pts_SAT
FIX4_oddsW_SAT
FIX4_oddsD_SAT
FIX4_oddsL_SAT
FIX4_Sf_SAT
FIX4_Sa_SAT
FIX4_STf_SAT
FIX4_STa_SAT
FIX4_Cf_SAT
FIX4_Ca_SAT
FIX4_Ff_SAT
FIX4_Fa_SAT
FIX4_num_opponents
FIX5_FTgf_L1
FIX5_FTga_L1
FIX5_pts_L1
FIX5_oddsW_L1
FIX5_oddsD_L1
FIX5_oddsL_L1
FIX5_Sf_L1
FIX5_Sa_L1
FIX5_STf_L1
FIX5_STa_L1
FIX5_Cf_L1
FIX5_Ca_L1
FIX5_Ff_L1
FIX5_Fa_L1
FIX5_FTgf_L2
FIX5_FTga_L2
FIX5_pts_L2
FIX5_oddsW_L2
FIX5_oddsD_L2
FIX5_oddsL_L2
FIX5_Sf_L2
FIX5_Sa_L2
FIX5_STf_L2
FIX5_STa_L2
FIX5_Cf_L2
FIX5_Ca_L2
FIX5_Ff_L2
FIX5_Fa_L2
FIX5_FTgf_L3
FIX5_FTga_L3
FIX5_pts_L3
FIX5_oddsW_L3
FIX5_oddsD_L3
FIX5_oddsL_L3
FIX5_Sf_L3
FIX5_Sa_L3
FIX5_STf_L3
FIX5_STa_L3
FIX5_Cf_L3
FIX5_Ca_L3
FIX5_Ff_L3
FIX5_Fa_L3
FIX5_FTgf_L6
FIX5_FTga_L6
FIX5_pts_L6
FIX5_oddsW_L6
FIX5_oddsD_L6
FIX5_oddsL_L6
FIX5_Sf_L6
FIX5_Sa_L6
FIX5_STf_L6
FIX5_STa_L6
FIX5_Cf_L6
FIX5_Ca_L6
FIX5_Ff_L6
FIX5_Fa_L6
FIX5_FTgf_SAT
FIX5_FTga_SAT
FIX5_pts_SAT
FIX5_oddsW_SAT
FIX5_oddsD_SAT
FIX5_oddsL_SAT
FIX5_Sf_SAT
FIX5_Sa_SAT
FIX5_STf_SAT
FIX5_STa_SAT
FIX5_Cf_SAT
FIX5_Ca_SAT
FIX5_Ff_SAT
FIX5_Fa_SAT
FIX5_num_opponents
FIX6_FTgf_L1
FIX6_FTga_L1
FIX6_pts_L1
FIX6_oddsW_L1
FIX6_oddsD_L1
FIX6_oddsL_L1
FIX6_Sf_L1
FIX6_Sa_L1
FIX6_STf_L1
FIX6_STa_L1
FIX6_Cf_L1
FIX6_Ca_L1
FIX6_Ff_L1
FIX6_Fa_L1
FIX6_FTgf_L2
FIX6_FTga_L2
FIX6_pts_L2
FIX6_oddsW_L2
FIX6_oddsD_L2
FIX6_oddsL_L2
FIX6_Sf_L2
FIX6_Sa_L2
FIX6_STf_L2
FIX6_STa_L2
FIX6_Cf_L2
FIX6_Ca_L2
FIX6_Ff_L2
FIX6_Fa_L2
FIX6_FTgf_L3
FIX6_FTga_L3
FIX6_pts_L3
FIX6_oddsW_L3
FIX6_oddsD_L3
FIX6_oddsL_L3
FIX6_Sf_L3
FIX6_Sa_L3
FIX6_STf_L3
FIX6_STa_L3
FIX6_Cf_L3
FIX6_Ca_L3
FIX6_Ff_L3
FIX6_Fa_L3
FIX6_FTgf_L6
FIX6_FTga_L6
FIX6_pts_L6
FIX6_oddsW_L6
FIX6_oddsD_L6
FIX6_oddsL_L6
FIX6_Sf_L6
FIX6_Sa_L6
FIX6_STf_L6
FIX6_STa_L6
FIX6_Cf_L6
FIX6_Ca_L6
FIX6_Ff_L6
FIX6_Fa_L6
FIX6_FTgf_SAT
FIX6_FTga_SAT
FIX6_pts_SAT
FIX6_oddsW_SAT
FIX6_oddsD_SAT
FIX6_oddsL_SAT
FIX6_Sf_SAT
FIX6_Sa_SAT
FIX6_STf_SAT
FIX6_STa_SAT
FIX6_Cf_SAT
FIX6_Ca_SAT
FIX6_Ff_SAT
FIX6_Fa_SAT
FIX6_num_opponents
FIX1_days_rest
FIX1_max_team_pts_concession_pos_L1
FIX1_avg_team_pts_concession_pos_L1
FIX1_max_team_pts_concession_pos_L2
FIX1_avg_team_pts_concession_pos_L2
FIX1_max_team_pts_concession_pos_L3
FIX1_avg_team_pts_concession_pos_L3
FIX1_max_team_pts_concession_pos_L6
FIX1_avg_team_pts_concession_pos_L6
FIX1_max_team_pts_concession_pos_SAT
FIX1_avg_team_pts_concession_pos_SAT
FIX1_max_team_pts_concession_pos_SALOC
FIX1_avg_team_pts_concession_pos_SALOC
FIX2_max_team_pts_concession_pos_L1
FIX2_avg_team_pts_concession_pos_L1
FIX2_max_team_pts_concession_pos_L2
FIX2_avg_team_pts_concession_pos_L2
FIX2_max_team_pts_concession_pos_L3
FIX2_avg_team_pts_concession_pos_L3
FIX2_max_team_pts_concession_pos_L6
FIX2_avg_team_pts_concession_pos_L6
FIX2_max_team_pts_concession_pos_SAT
FIX2_avg_team_pts_concession_pos_SAT
FIX3_max_team_pts_concession_pos_L1
FIX3_avg_team_pts_concession_pos_L1
FIX3_max_team_pts_concession_pos_L2
FIX3_avg_team_pts_concession_pos_L2
FIX3_max_team_pts_concession_pos_L3
FIX3_avg_team_pts_concession_pos_L3
FIX3_max_team_pts_concession_pos_L6
FIX3_avg_team_pts_concession_pos_L6
FIX3_max_team_pts_concession_pos_SAT
FIX3_avg_team_pts_concession_pos_SAT
FIX4_max_team_pts_concession_pos_L1
FIX4_avg_team_pts_concession_pos_L1
FIX4_max_team_pts_concession_pos_L2
FIX4_avg_team_pts_concession_pos_L2
FIX4_max_team_pts_concession_pos_L3
FIX4_avg_team_pts_concession_pos_L3
FIX4_max_team_pts_concession_pos_L6
FIX4_avg_team_pts_concession_pos_L6
FIX4_max_team_pts_concession_pos_SAT
FIX4_avg_team_pts_concession_pos_SAT
FIX5_max_team_pts_concession_pos_L1
FIX5_avg_team_pts_concession_pos_L1
FIX5_max_team_pts_concession_pos_L2
FIX5_avg_team_pts_concession_pos_L2
FIX5_max_team_pts_concession_pos_L3
FIX5_avg_team_pts_concession_pos_L3
FIX5_max_team_pts_concession_pos_L6
FIX5_avg_team_pts_concession_pos_L6
FIX5_max_team_pts_concession_pos_SAT
FIX5_avg_team_pts_concession_pos_SAT
FIX6_max_team_pts_concession_pos_L1
FIX6_avg_team_pts_concession_pos_L1
FIX6_max_team_pts_concession_pos_L2
FIX6_avg_team_pts_concession_pos_L2
FIX6_max_team_pts_concession_pos_L3
FIX6_avg_team_pts_concession_pos_L3
FIX6_max_team_pts_concession_pos_L6
FIX6_avg_team_pts_concession_pos_L6
FIX6_max_team_pts_concession_pos_SAT
FIX6_avg_team_pts_concession_pos_SAT